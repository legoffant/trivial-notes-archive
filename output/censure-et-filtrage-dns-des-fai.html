<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Censure et filtrage DNS des FAI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Anthony Le Goff">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="Trivial notes ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">Trivial notes </a>
          <div class="nav-collapse">
            <ul class="nav">
                <li><a href="/pages/VA.html">VA</a></li>
                <li><a href="/pages/contact.html">Contact</a></li>
                <li><a href="/pages/date.html">Date</a></li>
                <li><a href="/pages/BTC.html">Don BTC</a></li>
                <li><a href="/pages/Kor51.html">Kor51</a></li>
                <li><a href="/pages/lticba.html">LTICBA</a></li>
                          <li class="divider-vertical"></li>
                  <li >
                    <a href="/category/biohacking.html">
						<i class="icon-folder-open icon-large"></i>Biohacking
					</a>
                  </li>
                  <li >
                    <a href="/category/cc.html">
						<i class="icon-folder-open icon-large"></i>C/C++
					</a>
                  </li>
                  <li >
                    <a href="/category/entrepreneurship.html">
						<i class="icon-folder-open icon-large"></i>Entrepreneurship
					</a>
                  </li>
                  <li >
                    <a href="/category/inclassable.html">
						<i class="icon-folder-open icon-large"></i>Inclassable
					</a>
                  </li>
                  <li class="active">
                    <a href="/category/linux.html">
						<i class="icon-folder-open icon-large"></i>Linux
					</a>
                  </li>
                  <li >
                    <a href="/category/transhumanisme.html">
						<i class="icon-folder-open icon-large"></i>Transhumanisme
					</a>
                  </li>
                  <li >
                    <a href="/category/trek.html">
						<i class="icon-folder-open icon-large"></i>Trek
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to Censure et filtrage DNS des FAI">
                                        Censure et filtrage DNS des FAI
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2023-07-07T00:12:00+02:00">
        <i class="icon-calendar"></i>ven. 07 juillet 2023
</abbr>
<span class="label">By</span>
<a href="/author/anthony-le-goff.html"><i class="icon-user"></i>Anthony Le Goff</a>
<span class="label">Category</span>
<a href="/category/linux.html"><i class="icon-folder-open"></i>Linux</a>.


<span class="label">Tags</span>
	<a href="/tag/dns.html"><i class="icon-tag"></i>dns</a>
</footer><!-- /.post-info -->                </div>
                <p>La censure d'internet, un vaste programme. Nos politiques n'arrêtent pas de peter des cables, entre les sites de terrorisme, de pédopornographie, d'activiste et de librairie pirate interdite en open access (Sci-Hub) : toujours la même méthode, le filtrage DNS des FAI. Car techniquement c'est très compliquer de censurer internet, pour le pecnot moyen changer ces DNS est déja trop complexe.  </p>
<p>La dernière lubie des politiques est de censurer la pornographie en France en fixant une moyenne d'âge et de ficher la population qui regarde du porno. Et puis avec les émeutes ont veut couper les réseaux sociaux. Bah voyons.  </p>
<p>Il y a plusieurs méthodes pour contourner la censure d'internet:  </p>
<ul>
<li>Proxy  </li>
<li>Changement de DNS (FAI)  </li>
<li>VPN    </li>
<li>TOR  </li>
</ul>
<p>Donc ici j'explique la manière simple de changer les DNS en plus que votre traffic internet sera accélérer de + 28% en utilisant Cloudflare.  </p>
<div class="highlight"><pre><span></span><code>1.0.0.1 is about 10 times faster than 1.1.1.1 - 3 vs. 40 ms  
</code></pre></div>

<p>Cloudflare chiffre ces données transitant sur ces DNS. support DNS-over-HTTPS, DNS-over-TLS, DNSSEC, and DoS attack protection. Cloudflare logs l'adresse IP 25h sur ces serveurs.  </p>
<h3>Comment procéder</h3>
<p>Procédure pour changer ces DNS sous GNU/Linux (Arch) est d'éditer le fichier <code>/etc/resolv.conf</code>.  </p>
<div class="highlight"><pre><span></span><code>$ sudo nano /etc/resolv.conf  

nameserver 1.0.0.1  
nameserver 1.1.1.1  
</code></pre></div>

<p>Pour rendre permanent et éviter qu'un programme ré-écrit la configuration (Network Manager)  </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>chattr<span class="w"> </span>+i<span class="w"> </span>/etc/resolv.conf<span class="w">  </span>
</code></pre></div>

<p>Il faut redémarrer le PC pour prendre en compte la configuration ou redémarrer le service réseau avec <code>systemctl</code> (si vous utilisez <code>NetworkManager.service</code>).  </p>
<p>Pour vérifier les changements installer l'outil <code>dig</code>  </p>
<div class="highlight"><pre><span></span><code>$ sudo pacman -S dnsutils  

$ dig https://google.fr  

; &lt;&lt;&gt;&gt; DiG 9.18.15 &lt;&lt;&gt;&gt; https://www.google.fr  
;; global options: +cmd  
;; Got answer:  
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NXDOMAIN, id: 57157  
;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 1

;; OPT PSEUDOSECTION:  
; EDNS: version: 0, flags:; udp: 1232  
;; QUESTION SECTION:  
;https://www.google.fr.        IN    A

;; AUTHORITY SECTION:  
google.fr.        60    IN    SOA    ns1.google.com. dns-admin.google.com. 545619271 900 900 1800 60

;; Query time: 26 msec  
;; SERVER: 1.0.0.1#53(1.0.0.1) (UDP)  
;; WHEN: Thu Jul 06 23:47:21 CEST 2023  
;; MSG SIZE  rcvd: 110
</code></pre></div>

<p>L'indicateur <code>SERVER</code> présente le DNS 1.0.0.1 comme passerelle.</p>
<p><strong>INCONVENIENT</strong>: Certaines Box Internet n'accepte que le DNS du FAI pour l'accès sur le réseau local. Ce qui complique la configuration du réseau local et son accès (box, serveur, imprimante).</p>
<p><strong>SOLUTION</strong> Utiliser la fonction <a href="Configurer les niveaux de la protection par DNS via HTTPS dans Firefox">protection par DNS via HTTPS</a> en utilisant Cloudflare dans le navigateur tel que Firefox au lieu d'éditer <code>/etc/resolv.conf</code> pour aller sur internet, et donc permet de garder l'accès au réseau local.</p>
<p>Vous pouvez vérifier que vous utilisez les DNS de Cloudflare sur le site <a href="https://www.dnsleaktest.com">https://www.dnsleaktest.com</a></p>
<p>Si vous voulez gérer au mieux le DNS en local il faut ajouter un routeur comme AP utilisant l'agrégation de réseau étendu (WAN) et de réseau local (LAN). derrière la Box internet qui va paramêtrer le DNS. Cela fonctionne généralement en mode DMZ (Zone démilitarisée). Ex de routeur compatible <a href="https://www.cdiscount.com/informatique/materiel-reseau-wifi-internet-bluetooth/netgear-nighthawk-routeur-wifi-6-ax-4-ax3000-jusq/f-107151223-rax40100pes.html?idOffre=2601409543&amp;awc=6948_1688692916_e5081ce291faa57217e349a72cc108a2&amp;cid=affil&amp;cm_mmc=zanoxpb-_-268983#read">NETGEAR Nighthawk Routeur Wifi 6 AX 4, AX3000 à 80€ (150€ neuf)</a>. <a href="https://cleanbrowsing.org/help/docs/change-dns-on-a-netgear-nighthawk-router/">Change DNS on a NetGear NightHawk Router</a></p>
<h3>Adresse IP</h3>
<p>L'outil <code>dig</code> permet également de récupérer votre IPv4 public en particulier si vous êtes derrière un VPN.</p>
<div class="highlight"><pre><span></span><code>$ dig +short txt ch whoami.cloudflare @1.0.0.1
&quot;176.180.233.XXX&quot;
</code></pre></div>
                </div><!-- /.entry-content -->
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="https://creativecommons.org/"><i class="icon-external-link"></i>Creative Commons</a></li>
    <li><a href="https://www.eff.org/fr"><i class="icon-external-link"></i>Electronic Frontier Foundation</a></li>
    <li><a href="https://wiki.mdl29.net/doku.php?id=start"><i class="icon-external-link"></i>Maison du Libre 29</a></li>
    <li><a href="https://www.journalduhacker.net/"><i class="icon-external-link"></i>Le journal du Hacker</a></li>
    <li><a href="https://getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
    <li><a href="https://www.kernel.org/"><i class="icon-external-link"></i>Kernel</a></li>
    <li><a href="https://www.proxmox.com/en/proxmox-virtual-environment/overview"><i class="icon-external-link"></i>Proxmox VE</a></li>
    <li><a href="https://www.linux-kvm.org/page/Main_Page"><i class="icon-external-link"></i>KVM</a></li>
    <li><a href="https://framabook.org/le-c-en-20-heures-2/"><i class="icon-external-link"></i>Apprendre le C en 20H</a></li>
    <li><a href="https://www.red-lang.org/"><i class="icon-external-link"></i>Red Language</a></li>
    <li><a href="https://www.python.org/"><i class="icon-external-link"></i>Python.org</a></li>
    <li><a href="https://www.ruby-lang.org/en/"><i class="icon-external-link"></i>Ruby</a></li>
    <li><a href="https://archlinux.org/"><i class="icon-external-link"></i>Arch Linux</a></li>
    <li><a href="https://www.blackarch.io/"><i class="icon-external-link"></i>Blackarch</a></li>
    <li><a href="https://www.veracrypt.fr/en/Home.html"><i class="icon-external-link"></i>Veracrypt</a></li>
    <li><a href="https://www.arduino.cc/"><i class="icon-external-link"></i>Arduino</a></li>
    <li><a href="https://mangopi.org/"><i class="icon-external-link"></i>MangoPi</a></li>
    <li><a href="https://sipeed.com/"><i class="icon-external-link"></i>Sipeed 资料站</a></li>
    <li><a href="https://beagleboard.org/boards"><i class="icon-external-link"></i>BeagleBoard</a></li>
    <li><a href="https://www.espressif.com/en/products/socs/esp32"><i class="icon-external-link"></i>Espressif ESP32</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="/feeds/all.atom.xml" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="https://github.com/legoffant"><i class="icon-Github-sign icon-large"></i>Github</a></li>
    <li><a href="https://twitter.com/anth_lg"><i class="icon-Twitter-sign icon-large"></i>Twitter</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/biohacking.html">
    <i class="icon-folder-open icon-large"></i>Biohacking
</a>
</li>
<li>
<a href="/category/cc.html">
    <i class="icon-folder-open icon-large"></i>C/C++
</a>
</li>
<li>
<a href="/category/entrepreneurship.html">
    <i class="icon-folder-open icon-large"></i>Entrepreneurship
</a>
</li>
<li>
<a href="/category/inclassable.html">
    <i class="icon-folder-open icon-large"></i>Inclassable
</a>
</li>
<li>
<a href="/category/linux.html">
    <i class="icon-folder-open icon-large"></i>Linux
</a>
</li>
<li>
<a href="/category/transhumanisme.html">
    <i class="icon-folder-open icon-large"></i>Transhumanisme
</a>
</li>
<li>
<a href="/category/trek.html">
    <i class="icon-folder-open icon-large"></i>Trek
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-1">
    <a href="/tag/ingenierie.html">
        <i class="icon-tag icon-large"></i>ingenierie
    </a>
</li>
<li class="tag-4">
    <a href="/tag/escalade.html">
        <i class="icon-tag icon-large"></i>escalade
    </a>
</li>
<li class="tag-1">
    <a href="/tag/linux.html">
        <i class="icon-tag icon-large"></i>Linux
    </a>
</li>
<li class="tag-4">
    <a href="/tag/langage.html">
        <i class="icon-tag icon-large"></i>langage
    </a>
</li>
<li class="tag-2">
    <a href="/tag/programmation.html">
        <i class="icon-tag icon-large"></i>programmation
    </a>
</li>
<li class="tag-2">
    <a href="/tag/industrie.html">
        <i class="icon-tag icon-large"></i>industrie
    </a>
</li>
<li class="tag-1">
    <a href="/tag/adn.html">
        <i class="icon-tag icon-large"></i>adn
    </a>
</li>
<li class="tag-1">
    <a href="/tag/livre.html">
        <i class="icon-tag icon-large"></i>livre
    </a>
</li>
<li class="tag-2">
    <a href="/tag/hacker.html">
        <i class="icon-tag icon-large"></i>hacker
    </a>
</li>
<li class="tag-2">
    <a href="/tag/trek.html">
        <i class="icon-tag icon-large"></i>trek
    </a>
</li>
<li class="tag-3">
    <a href="/tag/bretagne.html">
        <i class="icon-tag icon-large"></i>bretagne
    </a>
</li>
<li class="tag-4">
    <a href="/tag/cyber.html">
        <i class="icon-tag icon-large"></i>cyber
    </a>
</li>
<li class="tag-2">
    <a href="/tag/sf.html">
        <i class="icon-tag icon-large"></i>SF
    </a>
</li>
<li class="tag-4">
    <a href="/tag/bureau.html">
        <i class="icon-tag icon-large"></i>bureau
    </a>
</li>
<li class="tag-2">
    <a href="/tag/logiciel.html">
        <i class="icon-tag icon-large"></i>logiciel
    </a>
</li>
<li class="tag-3">
    <a href="/tag/freelance.html">
        <i class="icon-tag icon-large"></i>freelance
    </a>
</li>
<li class="tag-1">
    <a href="/tag/islam.html">
        <i class="icon-tag icon-large"></i>islam
    </a>
</li>
<li class="tag-1">
    <a href="/tag/hacking.html">
        <i class="icon-tag icon-large"></i>hacking
    </a>
</li>
<li class="tag-1">
    <a href="/tag/informatique.html">
        <i class="icon-tag icon-large"></i>informatique
    </a>
</li>
<li class="tag-1">
    <a href="/tag/narkanta.html">
        <i class="icon-tag icon-large"></i>narkanta
    </a>
</li>
<li class="tag-2">
    <a href="/tag/qasari.html">
        <i class="icon-tag icon-large"></i>qasari
    </a>
</li>
<li class="tag-4">
    <a href="/tag/dune.html">
        <i class="icon-tag icon-large"></i>dune
    </a>
</li>
<li class="tag-3">
    <a href="/tag/serveur.html">
        <i class="icon-tag icon-large"></i>serveur
    </a>
</li>
<li class="tag-2">
    <a href="/tag/trekking.html">
        <i class="icon-tag icon-large"></i>trekking
    </a>
</li>
<li class="tag-1">
    <a href="/tag/roman.html">
        <i class="icon-tag icon-large"></i>roman
    </a>
</li>
<li class="tag-2">
    <a href="/tag/arch.html">
        <i class="icon-tag icon-large"></i>arch
    </a>
</li>
<li class="tag-1">
    <a href="/tag/va.html">
        <i class="icon-tag icon-large"></i>VA
    </a>
</li>
<li class="tag-4">
    <a href="/tag/prophete.html">
        <i class="icon-tag icon-large"></i>prophète
    </a>
</li>
<li class="tag-2">
    <a href="/tag/mines.html">
        <i class="icon-tag icon-large"></i>mines
    </a>
</li>
<li class="tag-3">
    <a href="/tag/sysadmin.html">
        <i class="icon-tag icon-large"></i>SysAdmin
    </a>
</li>
<li class="tag-2">
    <a href="/tag/entreprise.html">
        <i class="icon-tag icon-large"></i>entreprise
    </a>
</li>
<li class="tag-3">
    <a href="/tag/ecriture.html">
        <i class="icon-tag icon-large"></i>écriture
    </a>
</li>
<li class="tag-2">
    <a href="/tag/laptop.html">
        <i class="icon-tag icon-large"></i>laptop
    </a>
</li>
<li class="tag-2">
    <a href="/tag/capsule.html">
        <i class="icon-tag icon-large"></i>capsule
    </a>
</li>
<li class="tag-1">
    <a href="/tag/c.html">
        <i class="icon-tag icon-large"></i>c++
    </a>
</li>
<li class="tag-2">
    <a href="/tag/innovation.html">
        <i class="icon-tag icon-large"></i>innovation
    </a>
</li>
<li class="tag-2">
    <a href="/tag/processeur.html">
        <i class="icon-tag icon-large"></i>processeur
    </a>
</li>
<li class="tag-1">
    <a href="/tag/religion.html">
        <i class="icon-tag icon-large"></i>religion
    </a>
</li>
<li class="tag-2">
    <a href="/tag/machine.html">
        <i class="icon-tag icon-large"></i>machine
    </a>
</li>
<li class="tag-2">
    <a href="/tag/ruby.html">
        <i class="icon-tag icon-large"></i>ruby
    </a>
</li>
<li class="tag-4">
    <a href="/tag/communisme.html">
        <i class="icon-tag icon-large"></i>communisme
    </a>
</li>
<li class="tag-2">
    <a href="/tag/narkantisme.html">
        <i class="icon-tag icon-large"></i>narkantisme
    </a>
</li>
<li class="tag-2">
    <a href="/tag/logiciel-libre.html">
        <i class="icon-tag icon-large"></i>logiciel libre
    </a>
</li>
<li class="tag-1">
    <a href="/tag/nucleaire.html">
        <i class="icon-tag icon-large"></i>nucléaire
    </a>
</li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>Copyright 2021 by Anthony Le Goff and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a></p>
      </footer>

    </div><!--/.fluid-container-->



    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>