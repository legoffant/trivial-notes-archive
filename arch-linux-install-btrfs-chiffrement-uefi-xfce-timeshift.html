<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ARCH LINUX INSTALL: BTRFS - CHIFFREMENT - UEFI - XFCE - Timeshift</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Anthony Le Goff">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="Trivial notes ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">Trivial notes </a>
          <div class="nav-collapse">
            <ul class="nav">
                <li><a href="/pages/contact.html">Contact</a></li>
                <li><a href="/pages/ltcb.html">LTCB</a></li>
                          <li class="divider-vertical"></li>
                  <li >
                    <a href="/category/biohacking.html">
						<i class="icon-folder-open icon-large"></i>Biohacking
					</a>
                  </li>
                  <li >
                    <a href="/category/cc.html">
						<i class="icon-folder-open icon-large"></i>C/C++
					</a>
                  </li>
                  <li >
                    <a href="/category/entrepreneurship.html">
						<i class="icon-folder-open icon-large"></i>Entrepreneurship
					</a>
                  </li>
                  <li >
                    <a href="/category/inclassable.html">
						<i class="icon-folder-open icon-large"></i>Inclassable
					</a>
                  </li>
                  <li class="active">
                    <a href="/category/linux.html">
						<i class="icon-folder-open icon-large"></i>Linux
					</a>
                  </li>
                  <li >
                    <a href="/category/transhumanisme.html">
						<i class="icon-folder-open icon-large"></i>Transhumanisme
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to ARCH LINUX INSTALL: BTRFS - CHIFFREMENT - UEFI - XFCE - Timeshift">
                                        ARCH LINUX INSTALL: BTRFS - CHIFFREMENT - UEFI - XFCE - Timeshift
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2022-09-04T14:49:00+02:00">
        <i class="icon-calendar"></i>dim. 04 septembre 2022
</abbr>
<span class="label">By</span>
<a href="/author/anthony-le-goff.html"><i class="icon-user"></i>Anthony Le Goff</a>
<span class="label">Category</span>
<a href="/category/linux.html"><i class="icon-folder-open"></i>Linux</a>.


<span class="label">Tags</span>
	<a href="/tag/arch.html"><i class="icon-tag"></i>arch</a>
	<a href="/tag/xfce.html"><i class="icon-tag"></i>xfce</a>
	<a href="/tag/luks.html"><i class="icon-tag"></i>luks</a>
	<a href="/tag/btrfs.html"><i class="icon-tag"></i>btrfs</a>
</footer><!-- /.post-info -->                </div>
                <p>by Trivial</p>
<p>Mise à jours en 2022 de mon installation d'Arch Linux avec quelques nouveautés en particulier la prise en charge de snapshot avec BTRFS. </p>
<p>nota:  désactiver dans le bios le secure boot pour booter en USB.
Vérifier le démarrage UEFI.</p>
<h3>pre-check configuration</h3>
<p>Charger le clavier français en tapant "loqdkeys fr"</p>
<div class="highlight"><pre><span></span><code><span class="n">loadkeys</span><span class="w"> </span><span class="n">fr</span>
</code></pre></div>

<p>Verifier boot mode</p>
<div class="highlight"><pre><span></span><code><span class="n">ls</span><span class="w"> </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">firmware</span><span class="o">/</span><span class="n">efi</span><span class="o">/</span><span class="n">efivars</span><span class="w">    </span><span class="p">(</span><span class="n">Si</span><span class="w"> </span><span class="n">le</span><span class="w"> </span><span class="n">répertoire</span><span class="w"> </span><span class="n">existe</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="s1">&#39;ordinateur supporte l&#39;</span><span class="n">efi</span><span class="p">)</span>
</code></pre></div>

<h3>Connexion au réseau</h3>
<p>Vérifier le nom du reseau et si celui-ci est up</p>
<div class="highlight"><pre><span></span><code><span class="nx">ip</span><span class="w"> </span><span class="kd">addr</span><span class="w"> </span><span class="nx">show</span>
</code></pre></div>

<p>vérifier la connexion internet</p>
<div class="highlight"><pre><span></span><code>ping -c 2 google.com
</code></pre></div>

<p>Connexion au wifi</p>
<div class="highlight"><pre><span></span><code>iwctl
</code></pre></div>

<p>affichage du prompt [IWD]#</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">iwd</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">list</span>
<span class="o">[</span><span class="n">iwd</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">station</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">scan</span>
<span class="o">[</span><span class="n">iwd</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">station</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="k">get</span><span class="o">-</span><span class="n">networks</span>
<span class="o">[</span><span class="n">iwd</span><span class="o">]</span><span class="err">#</span><span class="w"> </span><span class="n">station</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="n">SSID</span>
</code></pre></div>

<h3>Check les disques</h3>
<p>Vérifier le nom de votre disque dur ou SSD</p>
<div class="highlight"><pre><span></span><code>lsblk
</code></pre></div>

<h3>Partitionnement</h3>
<p>Destruction des données sécurisées du disque</p>
<div class="highlight"><pre><span></span><code>shred -v -n 1 /dev/sda
</code></pre></div>

<p>Utilitaire de partitionnement</p>
<div class="highlight"><pre><span></span><code>gdisk /dev/sda
</code></pre></div>

<p>Créer une nouvelle table de partition GPT</p>
<p>Mise en place de la table de partition:</p>
<div class="highlight"><pre><span></span><code>/dev/sda1 EFI ef00 512MB
/dev/sda2 Linux 8300
</code></pre></div>

<p>Formatage de la partition EFI</p>
<div class="highlight"><pre><span></span><code>mkfs.vfat -F32 -n BOOT /dev/sda1
</code></pre></div>

<h3>Chiffrement</h3>
<div class="highlight"><pre><span></span><code><span class="n">cryptsetup</span><span class="w"> </span><span class="o">--</span><span class="n">align</span><span class="o">-</span><span class="n">payload</span><span class="w"> </span><span class="mi">8192</span><span class="w"> </span><span class="o">--</span><span class="n">type</span><span class="w"> </span><span class="n">luks2</span><span class="w"> </span><span class="o">--</span><span class="n">pbkdf</span><span class="w"> </span><span class="n">argon2id</span><span class="w"> </span><span class="o">--</span><span class="n">verify</span><span class="o">-</span><span class="n">passphrase</span><span class="w"> </span><span class="n">luksFormat</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda2</span>
</code></pre></div>

<p>Ouverture du container chiffré:</p>
<div class="highlight"><pre><span></span><code>cryptsetup luksOpen --allow-discards /dev/sda2 root
</code></pre></div>

<h3>Systèmes de fichiers</h3>
<div class="highlight"><pre><span></span><code># Initialize un groupe physique de volume LVM
pvcreate --dataalignment 4M /dev/mapper/root

# Initialise un groupe virtuel attaché au groupe physique
vgcreate vg /dev/mapper/root

# Initialise une partition nommée &#39;arch&#39; dans le volume group &#39;vg&#39;
$ lvcreate -l +100%FREE vg -n arch

# Affiche les volumes logiques créés
$ lvdisplay
</code></pre></div>

<p>Formater la partition root</p>
<div class="highlight"><pre><span></span><code>mkfs.btrfs -KL ARCH /dev/mapper/vg-arch
</code></pre></div>

<p>Monter les partitions:</p>
<div class="highlight"><pre><span></span><code>mount /dev/mapper/vg-arch /mnt
cd /mnt
</code></pre></div>

<p>Créer les subvolumes</p>
<div class="highlight"><pre><span></span><code><span class="n">btrfs</span><span class="w"> </span><span class="n">subvolume</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="err">@</span>
<span class="n">btrfs</span><span class="w"> </span><span class="n">subvolume</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="nv">@home</span>
</code></pre></div>

<p>Démonter la partition</p>
<div class="highlight"><pre><span></span><code>umount /mnt
</code></pre></div>

<p>Remonter le subvolume @</p>
<div class="highlight"><pre><span></span><code>mount -o noatime,space_cache=v2,compress=zstd,ssd,subvol=@ /dev/mapper/vg-arch /mnt
</code></pre></div>

<p>Créer les dossiers boot et home</p>
<div class="highlight"><pre><span></span><code>mkdir /mnt/{boot,home}
</code></pre></div>

<p>Monter le subvolume @home</p>
<div class="highlight"><pre><span></span><code><span class="n">mount</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">noatime</span><span class="p">,</span><span class="n">space_cache</span><span class="o">=</span><span class="n">v2</span><span class="p">,</span><span class="nf">compress</span><span class="o">=</span><span class="n">zstd</span><span class="p">,</span><span class="n">ssd</span><span class="p">,</span><span class="n">subvol</span><span class="o">=</span><span class="nv">@home</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mapper</span><span class="o">/</span><span class="n">vg</span><span class="o">-</span><span class="n">arch</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">home</span>
</code></pre></div>

<p>Monter la partition EFI</p>
<div class="highlight"><pre><span></span><code>mount /dev/sda1 /mnt/boot
</code></pre></div>

<h3>Système de base</h3>
<div class="highlight"><pre><span></span><code>pacstrap /mnt base linux linux-firmware btrfs-progs git lvm2 vim intel-ucode
</code></pre></div>

<p>Générer fstab</p>
<div class="highlight"><pre><span></span><code>genfstab -L -p /mnt &gt;&gt; /mnt/etc/fstab
</code></pre></div>

<p>Chrooter l'environnement</p>
<div class="highlight"><pre><span></span><code>arch-chroot /mnt
</code></pre></div>

<p>Nom de la machine</p>
<div class="highlight"><pre><span></span><code>vim /etc/hostname
</code></pre></div>

<p>Configuration de local paramétrage des langues</p>
<div class="highlight"><pre><span></span><code>vim /etc/locale.gen
en_US.UTF-8 UTF-8
fr_FR.UTF-8 UTF-8
</code></pre></div>

<p>Génération du fichier</p>
<div class="highlight"><pre><span></span><code>locale-gen
</code></pre></div>

<p>Configuration des langues par defaut</p>
<div class="highlight"><pre><span></span><code>vim /etc/locale.conf
LANG=&quot;fr_FR.UTF-8&quot;
LC_COLLATE=&quot;fr_FR.UTF-8&quot;
</code></pre></div>

<p>Exporter le langage actuel pour création dans initramfs</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">LANG</span><span class="o">=</span><span class="n">fr_FR</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>
</code></pre></div>

<p>Console, fonts, clavier azerty</p>
<div class="highlight"><pre><span></span><code>vim /etc/vconsole.conf
KEYMAP=fr-pc
FONT=
FONT_MAP=
</code></pre></div>

<p>Assigne le fuseau horaire</p>
<div class="highlight"><pre><span></span><code>ln -sf /usr/share/zoneinfo/Europe/Paris /etc/localtime 
</code></pre></div>

<div class="highlight"><pre><span></span><code>hwclock --systohc
</code></pre></div>

<p>Editer mkinitcpio</p>
<div class="highlight"><pre><span></span><code>vim /etc/mkinitcpio.conf
    BINARIES=(btrfsck)
    HOOKS=(base systemd autodetect keyboard sd-vconsole modconf block sd-encrypt sd-lvm2 fsck filesystems)
</code></pre></div>

<p>Générer initramfs</p>
<div class="highlight"><pre><span></span><code>mkinitcpio -p linux
</code></pre></div>

<p>Mot de passe super-administrateur root</p>
<div class="highlight"><pre><span></span><code>passwd
</code></pre></div>

<p>Installation de paquets supplémentaires:</p>
<div class="highlight"><pre><span></span><code><span class="n">pacman</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="n">networkmanager</span><span class="w"> </span><span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">applet</span><span class="w"> </span><span class="n">dialog</span><span class="w"> </span><span class="n">wpa_supplicant</span><span class="w"> </span><span class="n">reflector</span><span class="w"> </span><span class="n">base</span><span class="o">-</span><span class="n">devel</span><span class="w"> </span><span class="n">linux</span><span class="o">-</span><span class="n">headers</span><span class="w"> </span><span class="n">avahi</span><span class="w"> </span><span class="n">xdg</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="n">dirs</span><span class="w"> </span><span class="n">xdg</span><span class="o">-</span><span class="n">utils</span><span class="w"> </span><span class="n">gvfs</span><span class="w"> </span><span class="n">gvfs</span><span class="o">-</span><span class="n">smb</span><span class="w"> </span><span class="n">nfs</span><span class="o">-</span><span class="n">utils</span><span class="w"> </span><span class="n">inetutils</span><span class="w"> </span><span class="n">dnsutils</span><span class="w"> </span><span class="n">cups</span><span class="w"> </span><span class="n">hplip</span><span class="w"> </span><span class="n">alsa</span><span class="o">-</span><span class="n">utils</span><span class="w"> </span><span class="n">pipewire</span><span class="w"> </span><span class="n">pipewire</span><span class="o">-</span><span class="n">alsa</span><span class="w"> </span><span class="n">pipewire</span><span class="o">-</span><span class="n">pulse</span><span class="w"> </span><span class="n">pipewire</span><span class="o">-</span><span class="n">jack</span><span class="w"> </span><span class="n">pavucontrol</span><span class="w"> </span><span class="n">bash</span><span class="o">-</span><span class="n">completion</span><span class="w"> </span><span class="n">openssh</span><span class="w"> </span><span class="n">rsync</span><span class="w"> </span><span class="n">acpi</span><span class="w"> </span><span class="n">acpi_call</span><span class="w"> </span><span class="n">tlp</span><span class="w"> </span><span class="n">ipset</span><span class="w"> </span><span class="n">ufw</span><span class="w"> </span><span class="n">sof</span><span class="o">-</span><span class="n">firmware</span><span class="w"> </span><span class="n">nss</span><span class="o">-</span><span class="n">mdns</span><span class="w"> </span><span class="n">acpid</span><span class="w"> </span><span class="n">ntfs</span><span class="o">-</span><span class="mh">3</span><span class="n">g</span><span class="w"> </span><span class="n">terminus</span><span class="o">-</span><span class="n">font</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="n">db</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="n">pages</span><span class="w"> </span><span class="n">zip</span><span class="w"> </span><span class="n">p7zip</span><span class="w"> </span><span class="n">unzip</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="n">htop</span><span class="w"> </span><span class="n">tmux</span><span class="w"> </span><span class="n">wget</span><span class="w"> </span><span class="n">pciutils</span><span class="w"> </span><span class="n">lshw</span><span class="w"> </span><span class="n">syslog</span><span class="o">-</span><span class="n">ng</span>
</code></pre></div>

<p>Driver carte graphique, openGL, touchpad</p>
<div class="highlight"><pre><span></span><code>pacman -S xf86-video-intel xf86-input-libinput
</code></pre></div>

<p>Installation de QEMU/KVM pour la virtualisation</p>
<div class="highlight"><pre><span></span><code>pacman -S virt-manager qemu qemu-arch-extra edk2-ovmf bridge-utils dnsmasq vde2 openbsd-netcat
</code></pre></div>

<h3>Configuration de systemd-boot</h3>
<div class="highlight"><pre><span></span><code>bootctl --esp=/boot install
</code></pre></div>

<p>Configuration générale du chargeur</p>
<div class="highlight"><pre><span></span><code><span class="n">vim</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">loader</span><span class="o">/</span><span class="n">loader</span><span class="o">.</span><span class="n">conf</span>
<span class="n">default</span><span class="w"> </span><span class="n">arch</span><span class="o">.</span><span class="n">conf</span>
<span class="n">editor</span><span class="w"> </span><span class="n">no</span>
<span class="n">timeout</span><span class="w"> </span><span class="mi">4</span>
<span class="n">console</span><span class="o">-</span><span class="n">mode</span><span class="w"> </span><span class="nb">max</span>
</code></pre></div>

<p>Récupérez le champs UUID= de la partition LUKS</p>
<div class="highlight"><pre><span></span><code>blkid | grep /dev/sda2
</code></pre></div>

<p>Configuration d’une entrée du menu de démarrage.</p>
<div class="highlight"><pre><span></span><code><span class="n">vim</span><span class="w"> </span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">loader</span><span class="o">/</span><span class="n">entries</span><span class="o">/</span><span class="n">arch</span><span class="o">.</span><span class="n">conf</span>

<span class="n">title</span><span class="w"> </span><span class="n">Arch</span><span class="w"> </span><span class="n">Linux</span>
<span class="n">linux</span><span class="w"> </span><span class="o">/</span><span class="n">vmlinuz</span><span class="o">-</span><span class="n">linux</span>
<span class="n">initrd</span><span class="w"> </span><span class="o">&lt;</span><span class="n">cpu</span><span class="o">&gt;-</span><span class="n">ucode</span><span class="o">.</span><span class="n">img</span>
<span class="n">initrd</span><span class="w"> </span><span class="o">/</span><span class="n">initramfs</span><span class="o">-</span><span class="n">linux</span><span class="o">.</span><span class="n">img</span>
<span class="n">options</span><span class="w"> </span><span class="n">rd</span><span class="o">.</span><span class="n">luks</span><span class="o">.</span><span class="n">uuid</span><span class="o">=&lt;</span><span class="n">UUID</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rd</span><span class="o">.</span><span class="n">luks</span><span class="o">.</span><span class="n">options</span><span class="o">=</span><span class="n">discard</span><span class="w"> </span><span class="n">root</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">mapper</span><span class="o">/</span><span class="n">vg</span><span class="o">-</span><span class="n">arch</span><span class="w"> </span><span class="n">rootflags</span><span class="o">=</span><span class="n">subvol</span><span class="o">=</span><span class="err">@</span><span class="w"> </span><span class="n">rw</span>
</code></pre></div>

<h3>Activer les services systemD</h3>
<div class="highlight"><pre><span></span><code>systemctl enable NetworkManager
systemctl enable cups.service
systemctl enable sshd
systemctl enable avahi-daemon
systemctl enable tlp
systemctl enable reflector.timer
systemctl enable libvirtd
systemctl enable acpid
systemctl enable ufw
</code></pre></div>

<h3>Créer un utilisateur</h3>
<div class="highlight"><pre><span></span><code>useradd -m trivial
passwd trivial
</code></pre></div>

<div class="highlight"><pre><span></span><code>usermod -aG libvirt trivial
</code></pre></div>

<p>Ajout dans sudoers de l'utilisateur</p>
<div class="highlight"><pre><span></span><code>echo &quot;trivial ALL=(ALL) ALL&quot; &gt;&gt; /etc/sudoers.d/trivial
</code></pre></div>

<p>Démonter et reboot</p>
<div class="highlight"><pre><span></span><code><span class="k">exit</span>
<span class="nv">umount</span><span class="w"> </span><span class="o">-</span><span class="nv">R</span><span class="w"> </span><span class="o">/</span><span class="nv">mnt</span>
<span class="nv">reboot</span>
</code></pre></div>

<h3>Post-installation</h3>
<p>Check ip adresse</p>
<div class="highlight"><pre><span></span><code>ip a
</code></pre></div>

<p>Connexion au wifi via Networkmanager TUI</p>
<div class="highlight"><pre><span></span><code>nmtui
</code></pre></div>

<p>Synchronisation repository MAJ</p>
<div class="highlight"><pre><span></span><code>sudo pacman -Sy
</code></pre></div>

<p>Installation AUR Helper</p>
<div class="highlight"><pre><span></span><code>mkdir sources 
cd sources 
git clone https://aur.archlinux.org/yay.git 
cd yay 
makepkg -si 
</code></pre></div>

<p>Installation de timeshift et zramd</p>
<div class="highlight"><pre><span></span><code>yay -S timeshift-bin zramd
</code></pre></div>

<div class="highlight"><pre><span></span><code>sudo systemctl enable zramd.service
sudo systemctl start zramd.service
</code></pre></div>

<p>Vérification que la swap est active:</p>
<div class="highlight"><pre><span></span><code>lsblk
</code></pre></div>

<p>Configuration de reflector</p>
<div class="highlight"><pre><span></span><code>reflector --verbose --country &#39;France&#39; -l 50 -p https --sort rate --save /etc/pacman.d/mirrorlist
</code></pre></div>

<div class="highlight"><pre><span></span><code>sudo pacman -Syy
</code></pre></div>

<h3>Installation du bureau XFCE4</h3>
<div class="highlight"><pre><span></span><code>sudo pacman -S xorg xfce4 xfce4-goodies lightdm-gtk-greeter-settings gtk-engines
</code></pre></div>

<p>Activer le gestionnaire de démarrage</p>
<div class="highlight"><pre><span></span><code>sudo systemctl enable lightdm
</code></pre></div>

<p>Editer le fichier de configuration ligthdm</p>
<div class="highlight"><pre><span></span><code>sudo nano /etc/lightdm/lightdm.conf
# edit a la ligne
greeter-session = lightdm-gtk-greeter
</code></pre></div>

<p>Configuration de xinitrc</p>
<div class="highlight"><pre><span></span><code><span class="nv">echo</span><span class="w"> </span><span class="s2">&quot;exec startxfce4&quot;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">~/</span>.<span class="nv">xinitrc</span>
</code></pre></div>

<p>Modification de la configuration du clavier sous Xorg</p>
<div class="highlight"><pre><span></span><code>nano /etc/X11/xorg.conf.d/10-evdev.conf
Section &quot;InputClass&quot;
  Identifier &quot;evdev keyboard catchall&quot;
  MatchIsKeyboard &quot;on&quot;
  MatchDevicePath &quot;/dev/input/event*&quot;
  Option &quot;XkbLayout&quot; &quot;fr&quot;
  Driver &quot;evdev&quot;
EndSection
</code></pre></div>

<p>Installation de fonts</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S ttf-ms-fonts ttf-dejavu ttf-bitstream-vera adobe-source-han-sans-otc-fonts noto-fonts noto-fonts-emoji ttf-liberation ttf-droid tex-gyre-fonts
</code></pre></div>

<p>NOTA: Pour activer la prise en charge Pinyin, utiliser fcitx.</p>
<p><strong>Codec Multimédia</strong></p>
<p>Nous allons installer l’ensemble des greffons gstreamer qui est le framework utilisé par de nombreux environnements de bureau pour gérer le multimedia.</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S gst-plugins-{base,good,bad,ugly} gst-libav
</code></pre></div>

<p>Installation de navigateurs web</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S firefox chromium
</code></pre></div>

<div class="highlight"><pre><span></span><code>reboot
</code></pre></div>

<h3>Configuration des applications</h3>
<p>Changer de terminal en utilisant Guake via la touche F12</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S guake
</code></pre></div>

<p>Pour que Guake démarre au démarrage de l'environnement XFCE:</p>
<div class="highlight"><pre><span></span><code>cp /usr/share/applications/guake.desktop /etc/xdg/autostart/
</code></pre></div>

<h4>Configuration de Oh-my-Zsh</h4>
<p>Install Zsh</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>yay<span class="w"> </span>-S<span class="w"> </span>zsh<span class="w"> </span>oh-my-zsh-git
</code></pre></div>

<p>Mettre zsh shell par default</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>chsh<span class="w"> </span>-l
$<span class="w"> </span>chsh<span class="w"> </span>-s<span class="w"> </span>/usr/bin/zsh
</code></pre></div>

<p>Install et activer le thème powerlevel10k</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>yay<span class="w"> </span>-S<span class="w"> </span>--noconfirm<span class="w"> </span>zsh-theme-powerlevel10k-git
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;source /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme&#39;</span><span class="w"> </span>&gt;&gt;~/.zshrc
</code></pre></div>

<p>Install nerd fond hack</p>
<div class="highlight"><pre><span></span><code>yay<span class="w"> </span>-S<span class="w"> </span>nerd-fonts-hack
</code></pre></div>

<p>Fichier de configuration ~/.zshrc</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.</span>
<span class="c1"># Initialization code that may require console input (password prompts, [y/n]</span>
<span class="c1"># confirmations, etc.) must go above this block; everything else may go below.</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">XDG_CACHE_HOME</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/.cache</span><span class="si">}</span><span class="s2">/p10k-instant-prompt-</span><span class="si">${</span><span class="p">(%)</span><span class="k">:-</span><span class="p">%n</span><span class="si">}</span><span class="s2">.zsh&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">XDG_CACHE_HOME</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/.cache</span><span class="si">}</span><span class="s2">/p10k-instant-prompt-</span><span class="si">${</span><span class="p">(%)</span><span class="k">:-</span><span class="p">%n</span><span class="si">}</span><span class="s2">.zsh&quot;</span>
<span class="k">fi</span>

<span class="c1"># Path to your oh-my-zsh installation.</span>
<span class="nv">ZSH</span><span class="o">=</span>/usr/share/oh-my-zsh/

<span class="nb">export</span><span class="w"> </span><span class="nv">DEFAULT_USER</span><span class="o">=</span><span class="s2">&quot;anth&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">TERM</span><span class="o">=</span><span class="s2">&quot;xterm-256color&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ZSH</span><span class="o">=</span>/usr/share/oh-my-zsh
<span class="nb">export</span><span class="w"> </span><span class="nv">ZSH_POWER_LEVEL_THEME</span><span class="o">=</span>/usr/share/zsh-theme-powerlevel10k

<span class="nb">source</span><span class="w"> </span><span class="nv">$ZSH_POWER_LEVEL_THEME</span>/powerlevel10k.zsh-theme

<span class="nv">plugins</span><span class="o">=(</span>archlinux<span class="w"> </span>
<span class="w">    </span>bundler<span class="w"> </span>
<span class="w">    </span>docker<span class="w"> </span>
<span class="w">    </span>jsontools<span class="w"> </span>
<span class="w">    </span>vscode<span class="w"> </span>web-search<span class="w"> </span>
<span class="w">    </span>tig<span class="w"> </span>
<span class="w">    </span>gitfast<span class="w"> </span>
<span class="w">    </span>colored-man-pages
<span class="w">    </span>colorize<span class="w"> </span>
<span class="w">    </span>command-not-found<span class="w"> </span>
<span class="w">    </span>cp<span class="w"> </span>
<span class="w">    </span>dirhistory<span class="w"> </span>
<span class="w">    </span>sudo
<span class="w">    </span>zsh-syntax-highlighting
<span class="w">    </span>zsh-autosuggestions<span class="o">)</span><span class="w"> </span>
<span class="c1"># /!\ zsh-syntax-highlighting and then zsh-autosuggestions must be at the end</span>

<span class="nb">source</span><span class="w"> </span><span class="nv">$ZSH</span>/oh-my-zsh.sh

<span class="c1"># Uncomment the following line to disable bi-weekly auto-update checks.</span>
<span class="nv">DISABLE_AUTO_UPDATE</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>

<span class="nv">ZSH_CACHE_DIR</span><span class="o">=</span><span class="nv">$HOME</span>/.cache/oh-my-zsh
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span>-d<span class="w"> </span><span class="nv">$ZSH_CACHE_DIR</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span>mkdir<span class="w"> </span><span class="nv">$ZSH_CACHE_DIR</span>
<span class="k">fi</span>

<span class="nb">source</span><span class="w"> </span><span class="nv">$ZSH</span>/oh-my-zsh.sh
</code></pre></div>

<p>Cloner les repos de zsh-syntax-highlighting et zsh-autosuggestions</p>
<p>Dossier de travail: /usr/share/oh-my-zsh/customs/plugins</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/zsh-users/zsh-autosuggestions
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/zsh-users/zsh-syntax-highlighting.git<span class="w"> </span>zsh-syntax-highlighting
</code></pre></div>

<p>redémarrer zsh</p>
<h4>Outil de recherche et lanceur Sinapse basé sur Zeitgeist</h4>
<p>Installation de synapse + configuration sur le raccourci superL</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S synapse
</code></pre></div>

<h4>Application pour développeur et designer</h4>
<div class="highlight"><pre><span></span><code>sudo pacman -S keepass gimp vlc filezilla inkscape qbittorrent weechat cmus gcalculator baobab neovim discord veracrypt kazam yt-dlp calibre zim neofetch freemind
</code></pre></div>

<p>Documentation des langages</p>
<div class="highlight"><pre><span></span><code>yay -S zeal
</code></pre></div>

<p>Installation des outils de développeurs C/C++, Clang, Python</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S llvm clang python python-pip virtualenv nodejs
</code></pre></div>

<p>Installation de Jedi autocompletion pour python</p>
<div class="highlight"><pre><span></span><code>pip install jedi
</code></pre></div>

<p>Editeur de texte VSCodium</p>
<div class="highlight"><pre><span></span><code>yay - S vscodium-bin
</code></pre></div>

<p>Installation de Java Eclipse</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S jdk-openjdk
yay -S eclipse-java
</code></pre></div>

<p><strong>Configuration de Neovim</strong></p>
<p>Installation du gestionnaire de plugin "vim-plug" cf: <a href="https://github.com/junegunn/vim-plug">https://github.com/junegunn/vim-plug</a></p>
<div class="highlight"><pre><span></span><code><span class="s s-Atom">sh</span> <span class="o">-</span><span class="s s-Atom">c</span> <span class="s s-Atom">&#39;curl -fLo &quot;${XDG_DATA_HOME:-$HOME/.local/share}&quot;/nvim/site/autoload/plug.vim --create-dirs \</span>
<span class="s s-Atom">       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&#39;</span>
</code></pre></div>

<p>init.vim</p>
<div class="highlight"><pre><span></span><code><span class="ss">&quot; Neovim configuration file init.vim</span>
<span class="ss">&quot;</span><span class="w"> </span><span class="nl">author</span><span class="p">:</span><span class="w"> </span><span class="n">Anthony</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">R</span><span class="w"> </span><span class="n">Le</span><span class="w"> </span><span class="n">Goff</span><span class="w"> </span><span class="n">legoff</span><span class="p">.</span><span class="n">ant</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span>
<span class="ss">&quot; date: 16th april 2022</span>

<span class="ss">:set number</span>
<span class="ss">:set autoindent</span>
<span class="ss">:set tabstop=4</span>
<span class="ss">:set shiftwidth=4</span>
<span class="ss">:set smarttab</span>
<span class="ss">:set softtabstop=4</span>
<span class="ss">&quot;</span><span class="err">:</span><span class="k">set</span><span class="w"> </span><span class="n">mouse</span><span class="o">=</span><span class="n">a</span>

<span class="k">call</span><span class="w"> </span><span class="n">plug#begin</span><span class="p">()</span><span class="w"> </span>

<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;tpope/vim-fugitive&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;tpope/vim-surround&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;scrooloose/nerdtree&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;scrooloose/syntastic&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;vim-airline/vim-airline&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;tomasr/molokai&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;raimondi/delimitmate&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;kien/ctrlp.vim&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;ryanoasis/vim-devicons&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;majutsushi/tagbar&#39;</span>
<span class="n">Plug</span><span class="w"> </span><span class="s1">&#39;neoclide/coc.nvim&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="s1">&#39;branch&#39;</span><span class="err">:</span><span class="w"> </span><span class="s1">&#39;release&#39;</span><span class="err">}</span>

<span class="k">set</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>

<span class="k">call</span><span class="w"> </span><span class="n">plug#end</span><span class="p">()</span>

<span class="err">:</span><span class="k">set</span><span class="w"> </span><span class="n">statusline</span><span class="o">+=%</span><span class="n">#warningmsg</span><span class="err">#</span>
<span class="err">:</span><span class="k">set</span><span class="w"> </span><span class="n">statusline</span><span class="o">+=%</span><span class="err">{</span><span class="n">SyntasticStatuslineFlag</span><span class="p">()</span><span class="err">}</span>
<span class="err">:</span><span class="k">set</span><span class="w"> </span><span class="n">statusline</span><span class="o">+=%*</span>

<span class="err">:</span><span class="n">let</span><span class="w"> </span><span class="nl">g</span><span class="p">:</span><span class="n">syntastic_always_populate_loc_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="err">:</span><span class="n">let</span><span class="w"> </span><span class="nl">g</span><span class="p">:</span><span class="n">syntastic_auto_loc_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="err">:</span><span class="n">let</span><span class="w"> </span><span class="nl">g</span><span class="p">:</span><span class="n">syntastic_check_on_open</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="err">:</span><span class="n">let</span><span class="w"> </span><span class="nl">g</span><span class="p">:</span><span class="n">syntastic_check_on_wq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="n">nnoremap</span><span class="w"> </span><span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">f</span><span class="o">&gt;</span><span class="w"> </span><span class="err">:</span><span class="n">NERDTreeFocus</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>
<span class="n">nnoremap</span><span class="w"> </span><span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">n</span><span class="o">&gt;</span><span class="w"> </span><span class="err">:</span><span class="n">NERDTree</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>
<span class="n">nnoremap</span><span class="w"> </span><span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">t</span><span class="o">&gt;</span><span class="w"> </span><span class="err">:</span><span class="n">NERDTreeToggle</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>

<span class="n">nmap</span><span class="w"> </span><span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">r</span><span class="o">&gt;</span><span class="w"> </span><span class="err">:</span><span class="n">TagbarToggle</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>
<span class="n">nmap</span><span class="w"> </span><span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">p</span><span class="o">&gt;</span><span class="w"> </span><span class="err">:</span><span class="n">CtrlP</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>

<span class="err">:</span><span class="n">colorscheme</span><span class="w"> </span><span class="n">molokai</span>

<span class="n">let</span><span class="w"> </span><span class="nl">g</span><span class="p">:</span><span class="n">NERDTreeDirArrowExpandable</span><span class="o">=</span><span class="ss">&quot;+&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="nl">g</span><span class="p">:</span><span class="n">NERDTreeDirArrowCollapsible</span><span class="o">=</span><span class="ss">&quot;~&quot;</span>

<span class="ss">&quot; air-line</span>
<span class="ss">let g:airline_powerline_fonts = 1</span>


<span class="ss">&quot;</span><span class="w"> </span><span class="err">:</span><span class="n">CocInstall</span><span class="w"> </span><span class="n">coc</span><span class="o">-</span><span class="n">python</span>
<span class="err">&quot;</span><span class="w"> </span><span class="err">:</span><span class="n">CocInstall</span><span class="w"> </span><span class="n">coc</span><span class="o">-</span><span class="n">clangd</span>
</code></pre></div>

<h4>Outils de Hacking, pentesting, bug bounty, CTF</h4>
<p>Installation de dépot BlackArch &gt;&gt; <a href="https://blackarch.org/">https://blackarch.org/</a></p>
<div class="highlight"><pre><span></span><code>curl -O https :// blackarch .org/strap.sh
sha1sum strap.sh # doit etre egal a d062038042c5f141755ea39dbd615e6ff9e23121
sudo chmod +x strap.sh
sudo ./ strap.sh
</code></pre></div>

<div class="highlight"><pre><span></span><code>sudo pacman -S blackman
</code></pre></div>

<p>Installation des outils basics</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">blackman</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">nmap</span><span class="w"> </span><span class="n">impacket</span><span class="w"> </span><span class="n">whireshark</span><span class="w"> </span><span class="n">tcpdump</span><span class="w"> </span><span class="n">ruby</span><span class="w"> </span><span class="n">hashcat</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="n">proxychains</span><span class="o">-</span><span class="n">ng</span><span class="w"> </span><span class="n">exploitdb</span><span class="w"> </span><span class="n">httpie</span><span class="w"> </span><span class="n">metasploit</span><span class="w"> </span><span class="n">armitage</span><span class="w"> </span><span class="n">bind</span><span class="o">-</span><span class="n">tools</span><span class="w"> </span><span class="n">radare2</span><span class="w"> </span><span class="n">sqlmap</span><span class="w"> </span><span class="n">wpscan</span><span class="w"> </span><span class="n">xclip</span><span class="w"> </span><span class="n">beef</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">ufonet</span>
</code></pre></div>

<p>Configuration WordLists</p>
<div class="highlight"><pre><span></span><code>mkdir -p /usr/share/wordlists
wget -q https://github.com/danielmiessler/SecLists/raw/master/Passwords/Leaked-Databases/rockyou.txt.tar.gz -O /usr/share/wordlists/rockyou.txt.tar.gz
wget -q https://github.com/danielmiessler/SecLists/raw/master/Discovery/Web-Content/common.txt -O /usr/share/wordlists/common.txt
</code></pre></div>

<h4>Outils pour écrivain et chercheur</h4>
<div class="highlight"><pre><span></span><code>sudo pacman -S ghostwriter wkhtmltopdf pandoc libreoffice-still libreoffice-still-fr hunspell hunspell-fr texmaker manuskript
</code></pre></div>

<p>Extension Grammalecte et gestion de bibliographie</p>
<div class="highlight"><pre><span></span><code>yay -S zotero libreoffice-extension-grammalecte-fr
</code></pre></div>

<h4>Calcul numérique et scientifique (remplace Matlab)</h4>
<div class="highlight"><pre><span></span><code>python -m pip install jupyter scipy numpy matplotlib pandas ipython
</code></pre></div>

<p>Calcul Formel</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S sagemath
</code></pre></div>

<h3>Sauvegarde</h3>
<p>Installation du client SAMBA pour thunar</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S smbclient gvfs-smb
</code></pre></div>

<p>Redémarrer le PC pour prendre en compte la découverte du réseau local.</p>
<p>Ensuite rechercher votre serveur dans thunar en tapant:</p>
<div class="highlight"><pre><span></span><code>smb://192.168.X.X
</code></pre></div>

<p>Pour cela modifier en fonction d'IP de votre serveur.</p>
<p>Pour mettre en place les sauvegardes, le plus simple est d'utiliser deja-dup qui est une interface graphique de duplicity. La sauvegarde est chiffré et incrémental sur une période d'une semaine. Il existe d'autre méthode de sauvegarde tel que avec Borg-backup ou bien rync.</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S deja-dup
</code></pre></div>

<h3>Par-feu ufw</h3>
<p>Activation des logs (très utile pour la suite) :</p>
<div class="highlight"><pre><span></span><code>sudo ufw logging on
</code></pre></div>

<p>Rejet par défaut des connexions entrantes :</p>
<div class="highlight"><pre><span></span><code>sudo ufw default deny incoming
</code></pre></div>

<p>Autorisation des connexions sortantes :</p>
<div class="highlight"><pre><span></span><code>sudo ufw default allow outgoing
</code></pre></div>

<p>Recherchement des règles du pare-feu pour finir :</p>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">ufw</span><span class="w"> </span><span class="n">reload</span>
</code></pre></div>

<h3>Services Cloud</h3>
<p>Vous trouverez plusieurs services de cloud gratuit tels que qcloud, Google drive, Dropbox. Nous allons installer MEGA qui est plus sécurisé ques les autres offres de cloud, le service de l'entrepreneur Kim Dotcom a évolué sur les principes d'anonymat et de vie privée sur les données qui sont stocké sur son serveur depuis l'affaire de megaupload.</p>
<p>Editer le fichier de configuration de pacman pour ajouter le repository officiel de MEGA</p>
<div class="highlight"><pre><span></span><code>sudo nano /etc/pacman.conf
</code></pre></div>

<p>Ajoutez ces lignes:</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="n">##Repository</span><span class="w"> </span><span class="n">oficial</span><span class="w"> </span><span class="n">MEGA</span><span class="err">###</span>

<span class="o">[</span><span class="n">DEB_Arch_Extra</span><span class="o">]</span>
<span class="n">SigLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Optional</span><span class="w"> </span><span class="n">TrustAll</span>
<span class="n">Server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">mega</span><span class="p">.</span><span class="n">nz</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">MEGAsync</span><span class="o">/</span><span class="n">Arch_Extra</span><span class="o">/</span><span class="err">$</span><span class="n">arch</span>
</code></pre></div>

<p>Mettre à jour pacman</p>
<div class="highlight"><pre><span></span><code>sudo pacman -Sy
</code></pre></div>

<p>Installation du logiciel et de l'intégration avec Thunar</p>
<div class="highlight"><pre><span></span><code>sudo pacman -S megasync thunar-megasync
</code></pre></div>

<h3>Service VPN Proton</h3>
<p>Configurer un VPN. Installer le metapackage sur AUR:</p>
<div class="highlight"><pre><span></span><code>yay -S protonvpn
</code></pre></div>

<p>CLI (Command Line Interface)</p>
<p>Login:</p>
<div class="highlight"><pre><span></span><code>protonvpn-cli login &lt;your_protonmail&gt;
</code></pre></div>

<p>Connect to the VPN:</p>
<div class="highlight"><pre><span></span><code><span class="nv">protonvpn</span><span class="o">-</span><span class="nv">cli</span><span class="w"> </span><span class="k">connect</span>
</code></pre></div>

<p>Pour créer un compte protonVPN: <a href="https://protonvpn.com/free-vpn/linux/">https://protonvpn.com/free-vpn/linux/</a></p>
<p>Pour voir le status de la connexion:</p>
<div class="highlight"><pre><span></span><code>protonvpn-cli status
</code></pre></div>

<p>Vérifier que votre adresse IP pointe sur le VPN: <a href="https://www.whatismyip.com/fr/">https://www.whatismyip.com/fr/</a></p>
                </div><!-- /.entry-content -->
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="https://creativecommons.org/"><i class="icon-external-link"></i>Creative Commons</a></li>
    <li><a href="https://www.eff.org/fr"><i class="icon-external-link"></i>Electronic Frontier Foundation</a></li>
    <li><a href="https://wiki.mdl29.net/doku.php?id=start"><i class="icon-external-link"></i>Maison du Libre 29</a></li>
    <li><a href="https://www.journalduhacker.net/"><i class="icon-external-link"></i>Le journal du Hacker</a></li>
    <li><a href="https://getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
    <li><a href="https://www.kernel.org/"><i class="icon-external-link"></i>Kernel</a></li>
    <li><a href="https://www.proxmox.com/en/proxmox-virtual-environment/overview"><i class="icon-external-link"></i>Proxmox VE</a></li>
    <li><a href="https://www.linux-kvm.org/page/Main_Page"><i class="icon-external-link"></i>KVM</a></li>
    <li><a href="https://framabook.org/le-c-en-20-heures-2/"><i class="icon-external-link"></i>Apprendre le C en 20H</a></li>
    <li><a href="https://www.red-lang.org/"><i class="icon-external-link"></i>Red Language</a></li>
    <li><a href="https://www.python.org/"><i class="icon-external-link"></i>Python.org</a></li>
    <li><a href="https://www.ruby-lang.org/en/"><i class="icon-external-link"></i>Ruby</a></li>
    <li><a href="https://archlinux.org/"><i class="icon-external-link"></i>Arch Linux</a></li>
    <li><a href="https://www.blackarch.io/"><i class="icon-external-link"></i>Blackarch</a></li>
    <li><a href="https://www.veracrypt.fr/en/Home.html"><i class="icon-external-link"></i>Veracrypt</a></li>
    <li><a href="https://www.arduino.cc/"><i class="icon-external-link"></i>Arduino</a></li>
    <li><a href="https://mangopi.org/"><i class="icon-external-link"></i>MangoPi</a></li>
    <li><a href="https://sipeed.com/"><i class="icon-external-link"></i>Sipeed 资料站</a></li>
    <li><a href="https://beagleboard.org/boards"><i class="icon-external-link"></i>BeagleBoard</a></li>
    <li><a href="https://www.espressif.com/en/products/socs/esp32"><i class="icon-external-link"></i>Espressif ESP32</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="/feeds/all.atom.xml" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="https://github.com/legoffant"><i class="icon-Github-sign icon-large"></i>Github</a></li>
    <li><a href="https://twitter.com/anth_lg"><i class="icon-Twitter-sign icon-large"></i>Twitter</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/biohacking.html">
    <i class="icon-folder-open icon-large"></i>Biohacking
</a>
</li>
<li>
<a href="/category/cc.html">
    <i class="icon-folder-open icon-large"></i>C/C++
</a>
</li>
<li>
<a href="/category/entrepreneurship.html">
    <i class="icon-folder-open icon-large"></i>Entrepreneurship
</a>
</li>
<li>
<a href="/category/inclassable.html">
    <i class="icon-folder-open icon-large"></i>Inclassable
</a>
</li>
<li>
<a href="/category/linux.html">
    <i class="icon-folder-open icon-large"></i>Linux
</a>
</li>
<li>
<a href="/category/transhumanisme.html">
    <i class="icon-folder-open icon-large"></i>Transhumanisme
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-1">
    <a href="/tag/informatique.html">
        <i class="icon-tag icon-large"></i>informatique
    </a>
</li>
<li class="tag-3">
    <a href="/tag/communaute.html">
        <i class="icon-tag icon-large"></i>communauté
    </a>
</li>
<li class="tag-2">
    <a href="/tag/industrie.html">
        <i class="icon-tag icon-large"></i>industrie
    </a>
</li>
<li class="tag-2">
    <a href="/tag/narkanta.html">
        <i class="icon-tag icon-large"></i>narkanta
    </a>
</li>
<li class="tag-4">
    <a href="/tag/sciences.html">
        <i class="icon-tag icon-large"></i>sciences
    </a>
</li>
<li class="tag-3">
    <a href="/tag/sysadmin.html">
        <i class="icon-tag icon-large"></i>sysadmin
    </a>
</li>
<li class="tag-1">
    <a href="/tag/religion.html">
        <i class="icon-tag icon-large"></i>religion
    </a>
</li>
<li class="tag-2">
    <a href="/tag/hacker.html">
        <i class="icon-tag icon-large"></i>hacker
    </a>
</li>
<li class="tag-3">
    <a href="/tag/corsaire.html">
        <i class="icon-tag icon-large"></i>corsaire
    </a>
</li>
<li class="tag-2">
    <a href="/tag/arch.html">
        <i class="icon-tag icon-large"></i>arch
    </a>
</li>
<li class="tag-3">
    <a href="/tag/dynastie.html">
        <i class="icon-tag icon-large"></i>dynastie
    </a>
</li>
<li class="tag-2">
    <a href="/tag/islam.html">
        <i class="icon-tag icon-large"></i>Islam
    </a>
</li>
<li class="tag-1">
    <a href="/tag/linux.html">
        <i class="icon-tag icon-large"></i>Linux
    </a>
</li>
<li class="tag-3">
    <a href="/tag/matos.html">
        <i class="icon-tag icon-large"></i>matos
    </a>
</li>
<li class="tag-1">
    <a href="/tag/mines.html">
        <i class="icon-tag icon-large"></i>mines
    </a>
</li>
<li class="tag-2">
    <a href="/tag/adn.html">
        <i class="icon-tag icon-large"></i>adn
    </a>
</li>
<li class="tag-3">
    <a href="/tag/trek.html">
        <i class="icon-tag icon-large"></i>trek
    </a>
</li>
<li class="tag-1">
    <a href="/tag/entreprise.html">
        <i class="icon-tag icon-large"></i>entreprise
    </a>
</li>
<li class="tag-1">
    <a href="/tag/roman.html">
        <i class="icon-tag icon-large"></i>roman
    </a>
</li>
<li class="tag-4">
    <a href="/tag/git.html">
        <i class="icon-tag icon-large"></i>git
    </a>
</li>
<li class="tag-3">
    <a href="/tag/philosophie.html">
        <i class="icon-tag icon-large"></i>philosophie
    </a>
</li>
<li class="tag-4">
    <a href="/tag/atlantes.html">
        <i class="icon-tag icon-large"></i>Atlantes
    </a>
</li>
<li class="tag-2">
    <a href="/tag/logiciel-libre.html">
        <i class="icon-tag icon-large"></i>logiciel libre
    </a>
</li>
<li class="tag-3">
    <a href="/tag/ressources.html">
        <i class="icon-tag icon-large"></i>Ressources
    </a>
</li>
<li class="tag-2">
    <a href="/tag/programmation.html">
        <i class="icon-tag icon-large"></i>programmation
    </a>
</li>
<li class="tag-2">
    <a href="/tag/innovation.html">
        <i class="icon-tag icon-large"></i>innovation
    </a>
</li>
<li class="tag-2">
    <a href="/tag/livre.html">
        <i class="icon-tag icon-large"></i>livre
    </a>
</li>
<li class="tag-4">
    <a href="/tag/eon.html">
        <i class="icon-tag icon-large"></i>Eon
    </a>
</li>
<li class="tag-1">
    <a href="/tag/nucleaire.html">
        <i class="icon-tag icon-large"></i>nucléaire
    </a>
</li>
<li class="tag-3">
    <a href="/tag/science.html">
        <i class="icon-tag icon-large"></i>science
    </a>
</li>
<li class="tag-2">
    <a href="/tag/capsule.html">
        <i class="icon-tag icon-large"></i>capsule
    </a>
</li>
<li class="tag-2">
    <a href="/tag/machine.html">
        <i class="icon-tag icon-large"></i>machine
    </a>
</li>
<li class="tag-4">
    <a href="/tag/cyberattaque.html">
        <i class="icon-tag icon-large"></i>cyberattaque
    </a>
</li>
<li class="tag-2">
    <a href="/tag/bretagne.html">
        <i class="icon-tag icon-large"></i>bretagne
    </a>
</li>
<li class="tag-4">
    <a href="/tag/biohacking.html">
        <i class="icon-tag icon-large"></i>biohacking
    </a>
</li>
<li class="tag-3">
    <a href="/tag/arduino.html">
        <i class="icon-tag icon-large"></i>Arduino
    </a>
</li>
<li class="tag-1">
    <a href="/tag/va.html">
        <i class="icon-tag icon-large"></i>VA
    </a>
</li>
<li class="tag-3">
    <a href="/tag/cours.html">
        <i class="icon-tag icon-large"></i>cours
    </a>
</li>
<li class="tag-1">
    <a href="/tag/hacking.html">
        <i class="icon-tag icon-large"></i>hacking
    </a>
</li>
<li class="tag-1">
    <a href="/tag/ingenierie.html">
        <i class="icon-tag icon-large"></i>ingenierie
    </a>
</li>
<li class="tag-4">
    <a href="/tag/red.html">
        <i class="icon-tag icon-large"></i>red
    </a>
</li>
<li class="tag-2">
    <a href="/tag/logiciel.html">
        <i class="icon-tag icon-large"></i>logiciel
    </a>
</li>
<li class="tag-1">
    <a href="/tag/c.html">
        <i class="icon-tag icon-large"></i>c++
    </a>
</li>
<li class="tag-3">
    <a href="/tag/rando.html">
        <i class="icon-tag icon-large"></i>rando
    </a>
</li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>Copyright 2021 by Anthony Le Goff and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a></p>
      </footer>

    </div><!--/.fluid-container-->



    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>